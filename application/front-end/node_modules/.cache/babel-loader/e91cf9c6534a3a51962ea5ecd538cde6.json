{"ast":null,"code":"import axios from \"axios\";\nimport api_config from './config/api.config';\nexport var userLogin = function userLogin(loginCredentials, respondToUser) {\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  axios({\n    method: 'post',\n    url: \"http://\".concat(api_config.environment, \"/users/login\"),\n    data: loginCredentials\n  }).then(function (res) {\n    respondToUser(res.data);\n  }).catch(onError);\n};\nexport var userRegister = function userRegister(regFormData, respondToUser) {\n  axios({\n    method: 'post',\n    url: \"http://\".concat(api_config.environment, \"/users/register\"),\n    data: regFormData\n  }).then(function (res) {\n    respondToUser(res.data.result);\n  });\n};\nexport var getUserProfile = function getUserProfile(onSuccess) {\n  axios.get(\"http://\".concat(api_config.environment, \"/users/profile\"), {\n    headers: {\n      'Session': JSON.parse(sessionStorage.getItem('session')).token\n    }\n  }).then(onSuccess);\n};\nexport var updateProfile = function updateProfile(profile, handleResponse) {\n  axios({\n    method: 'post',\n    url: \"http://\".concat(api_config.environment, \"/users/profile\"),\n    data: {\n      'profileInfo': profile\n    },\n    headers: {\n      'Session': JSON.parse(sessionStorage.getItem('session')).token\n    }\n  }).then(function (res) {\n    handleResponse();\n  });\n};\nexport var checkSession = function checkSession(token, onSuccess) {\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  axios.get(\"http://\".concat(api_config.environment, \"/users/session/\").concat(token, \"/validate\")).then(onSuccess).catch(onError);\n};\nexport var logOut = function logOut(token, onSuccess) {\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  axios.put(\"http://\".concat(api_config.environment, \"/users/session/\").concat(token, \"/end\")).then(onSuccess).catch(onError);\n};","map":{"version":3,"sources":["/home/inez/Documents/csc648-sp19-team09/application/front-end/src/api/user.actions.js"],"names":["axios","api_config","userLogin","loginCredentials","respondToUser","onError","method","url","environment","data","then","res","catch","userRegister","regFormData","result","getUserProfile","onSuccess","get","headers","JSON","parse","sessionStorage","getItem","token","updateProfile","profile","handleResponse","checkSession","logOut","put"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,gBAAD,EAAmBC,aAAnB,EAAyD;AAAA,MAAvBC,OAAuB,uEAAb,YAAM,CAAE,CAAK;AACjFL,EAAAA,KAAK,CAAC;AACLM,IAAAA,MAAM,EAAC,MADF;AAELC,IAAAA,GAAG,mBAAWN,UAAU,CAACO,WAAtB,iBAFE;AAGLC,IAAAA,IAAI,EAAEN;AAHD,GAAD,CAAL,CAIGO,IAJH,CAIQ,UAACC,GAAD,EAAO;AACdP,IAAAA,aAAa,CAACO,GAAG,CAACF,IAAL,CAAb;AACA,GAND,EAMGG,KANH,CAMSP,OANT;AAOA,CARM;AAUP,OAAO,IAAMQ,YAAY,GAAG,SAAfA,YAAe,CAACC,WAAD,EAAcV,aAAd,EAAgC;AAC3DJ,EAAAA,KAAK,CAAC;AACLM,IAAAA,MAAM,EAAC,MADF;AAELC,IAAAA,GAAG,mBAAWN,UAAU,CAACO,WAAtB,oBAFE;AAGLC,IAAAA,IAAI,EAAEK;AAHD,GAAD,CAAL,CAIGJ,IAJH,CAIQ,UAACC,GAAD,EAAO;AACdP,IAAAA,aAAa,CAACO,GAAG,CAACF,IAAJ,CAASM,MAAV,CAAb;AACA,GAND;AAOA,CARM;AAUP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAe;AAC5CjB,EAAAA,KAAK,CAACkB,GAAN,kBAAoBjB,UAAU,CAACO,WAA/B,qBAA4D;AAC3DW,IAAAA,OAAO,EAAE;AACR,iBAAWC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAX,EAA8CC;AADjD;AADkD,GAA5D,EAIGd,IAJH,CAIQO,SAJR;AAKA,CANM;AAQP,OAAO,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAUC,cAAV,EAA6B;AACvD3B,EAAAA,KAAK,CAAC;AACHM,IAAAA,MAAM,EAAE,MADL;AAEHC,IAAAA,GAAG,mBAAYN,UAAU,CAACO,WAAvB,mBAFA;AAGHC,IAAAA,IAAI,EAAC;AACF,qBAAeiB;AADb,KAHF;AAMHP,IAAAA,OAAO,EAAC;AACL,iBAAWC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAX,EAA8CC;AADpD;AANL,GAAD,CAAL,CASGd,IATH,CASQ,UAACC,GAAD,EAAS;AACbgB,IAAAA,cAAc;AACjB,GAXD;AAYF,CAbM;AAeP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACJ,KAAD,EAAQP,SAAR,EAA0C;AAAA,MAAvBZ,OAAuB,uEAAb,YAAM,CAAE,CAAK;AACrEL,EAAAA,KAAK,CAACkB,GAAN,kBAAoBjB,UAAU,CAACO,WAA/B,4BAA4DgB,KAA5D,gBACCd,IADD,CACMO,SADN,EAECL,KAFD,CAEOP,OAFP;AAGA,CAJM;AAMP,OAAO,IAAMwB,MAAM,GAAG,SAATA,MAAS,CAACL,KAAD,EAAQP,SAAR,EAA0C;AAAA,MAAvBZ,OAAuB,uEAAb,YAAM,CAAE,CAAK;AAC/DL,EAAAA,KAAK,CAAC8B,GAAN,kBAAoB7B,UAAU,CAACO,WAA/B,4BAA4DgB,KAA5D,WACCd,IADD,CACMO,SADN,EAECL,KAFD,CAEOP,OAFP;AAGA,CAJM","sourcesContent":["import axios from \"axios\";\nimport api_config from './config/api.config';\n\nexport const userLogin = (loginCredentials, respondToUser, onError = () => {}) => {\n\taxios({\n\t\tmethod:'post',\n\t\turl:`http://${api_config.environment}/users/login`,\t\t\n\t\tdata: loginCredentials,\n\t}).then((res)=>{\n\t\trespondToUser(res.data);\n\t}).catch(onError)\n};\n\nexport const userRegister = (regFormData, respondToUser) => {\n\taxios({\n\t\tmethod:'post',\n\t\turl:`http://${api_config.environment}/users/register`,\t\t\n\t\tdata: regFormData,\n\t}).then((res)=>{\n\t\trespondToUser(res.data.result);\n\t});\n};\n\nexport const getUserProfile = (onSuccess) => {\n\taxios.get(`http://${api_config.environment}/users/profile`, {\n\t\theaders: {\n\t\t\t'Session': JSON.parse(sessionStorage.getItem('session')).token\n\t\t}\n\t}).then(onSuccess)\n}\n\nexport const updateProfile = (profile, handleResponse) => {\t\n   axios({\n      method: 'post',\n      url: `http://${api_config.environment}/users/profile`,\n      data:{\n         'profileInfo': profile,\n      },\n      headers:{\n         'Session': JSON.parse(sessionStorage.getItem('session')).token,\n      },\n   }).then((res) => {       \n       handleResponse();\n   });\n};\n\nexport const checkSession = (token, onSuccess, onError = () => {}) => {\n\taxios.get(`http://${api_config.environment}/users/session/${token}/validate`)\n\t.then(onSuccess)\n\t.catch(onError)\n}\n\nexport const logOut = (token, onSuccess, onError = () => {}) => {\n\taxios.put(`http://${api_config.environment}/users/session/${token}/end`)\n\t.then(onSuccess)\n\t.catch(onError)\n}"]},"metadata":{},"sourceType":"module"}