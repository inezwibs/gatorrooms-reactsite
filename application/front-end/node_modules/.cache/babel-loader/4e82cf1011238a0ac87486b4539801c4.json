{"ast":null,"code":"import _classCallCheck from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/inez/Documents/csc648-sp19-team09/application/front-end/src/modules/registration/registration.js\";\nimport React, { Component } from 'react';\nimport { withStyles, FormControlLabel } from '@material-ui/core';\nimport Formsy from 'formsy-react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ValidateTextField from './field-with-validation';\nimport LoginRegisterError from \"./registration-error\";\nimport { Link } from 'react-router-dom';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      marginLeft: theme.spacing.unit * 10,\n      marginRight: theme.spacing.unit * 10\n    },\n    form: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    field: {\n      marginTop: theme.spacing.unit,\n      width: theme.spacing.unit * 50\n    },\n    actions: {\n      marginTop: theme.spacing.unit * 2\n    }\n  };\n};\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n\n    _this._handleCheck = function () {\n      var admin = _this.state.admin;\n\n      _this.setState({\n        admin: !admin\n      });\n    };\n\n    _this.disableSubmit = function () {\n      _this.setState({\n        canSubmit: false\n      });\n    };\n\n    _this.enableSubmit = function () {\n      _this.setState({\n        canSubmit: true\n      });\n    };\n\n    _this.submit = function (model) {\n      if (_this.props.onRegister) {\n        _this.props.onRegister(model);\n      }\n    };\n\n    _this.state = {\n      canSubmit: false,\n      admin: false\n    };\n    _this._handleCheck = _this._handleCheck.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          registerFailed = _this$props.registerFailed;\n      var _this$state = this.state,\n          canSubmit = _this$state.canSubmit,\n          admin = _this$state.admin;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Formsy, {\n        className: classes.form,\n        onValid: this.enableSubmit,\n        onInvalid: this.disableSubmit,\n        onValidSubmit: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(ValidateTextField, {\n        name: \"first_name\",\n        autoComplete: \"first_name\",\n        validations: \"minLength:3\",\n        validationErrors: {\n          minLength: \"Too short\"\n        },\n        required: true,\n        className: classes.field,\n        label: \"First Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(ValidateTextField, {\n        name: \"last_name\",\n        autoComplete: \"last_name\",\n        validations: \"minLength:3\",\n        validationErrors: {\n          minLength: \"Too short\"\n        },\n        required: true,\n        className: classes.field,\n        label: \"Last Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(ValidateTextField, {\n        name: \"email\",\n        autoComplete: \"email\",\n        validations: \"minLength:3\",\n        validationErrors: {\n          minLength: \"Too short\"\n        },\n        required: true,\n        className: classes.field,\n        label: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(ValidateTextField, {\n        type: \"password\",\n        name: \"password\",\n        autoComplete: \"new-password\",\n        validations: \"minLength:2\",\n        validationErrors: {\n          minLength: \"Too short\"\n        },\n        required: true,\n        className: classes.field,\n        label: \"Create a password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(ValidateTextField, {\n        type: \"password\",\n        name: \"repeated_password\",\n        autoComplete: \"new-password\",\n        validations: \"equalsField:password\",\n        validationErrors: {\n          equalsField: \"Needs to be the same password as above\"\n        },\n        required: true,\n        className: classes.field,\n        label: \"Enter password again\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          checked: admin,\n          onChange: this._handleCheck,\n          value: \"admin\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }),\n        label: \"Admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), registerFailed && React.createElement(LoginRegisterError, {\n        message: registerFailed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.actions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        component: Link,\n        to: '/login',\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: !canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Register\"))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nRegister.propTypes = {\n  onRegister: PropTypes.func,\n  registerFailed: PropTypes.string\n};\nexport default withStyles(styles)(Register);","map":{"version":3,"sources":["/home/inez/Documents/csc648-sp19-team09/application/front-end/src/modules/registration/registration.js"],"names":["React","Component","withStyles","FormControlLabel","Formsy","Button","PropTypes","Checkbox","ValidateTextField","LoginRegisterError","Link","styles","theme","root","marginLeft","spacing","unit","marginRight","form","display","flexDirection","field","marginTop","width","actions","Register","props","_handleCheck","admin","state","setState","disableSubmit","canSubmit","enableSubmit","submit","model","onRegister","bind","classes","registerFailed","minLength","equalsField","propTypes","func","string"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,mBAA7C;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,iBAAP,MAA8B,yBAA9B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,UAAU,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,GAAmB,EAD3B;AAEJC,MAAAA,WAAW,EAAEL,KAAK,CAACG,OAAN,CAAcC,IAAd,GAAmB;AAF5B,KADiB;AAKvBE,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAE,MADL;AAEJC,MAAAA,aAAa,EAAE;AAFX,KALiB;AASvBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAEV,KAAK,CAACG,OAAN,CAAcC,IADpB;AAELO,MAAAA,KAAK,EAAEX,KAAK,CAACG,OAAN,CAAcC,IAAd,GAAmB;AAFrB,KATgB;AAavBQ,IAAAA,OAAO,EAAE;AACPF,MAAAA,SAAS,EAAEV,KAAK,CAACG,OAAN,CAAcC,IAAd,GAAqB;AADzB;AAbc,GAAL;AAAA,CAApB;;IAmBMS,Q;;;;;AAMJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,UASnBC,YATmB,GASJ,YAAM;AAAA,UACXC,KADW,GACD,MAAKC,KADJ,CACXD,KADW;;AAEnB,YAAKE,QAAL,CAAc;AAAEF,QAAAA,KAAK,EAAE,CAACA;AAAV,OAAd;AACD,KAZkB;;AAAA,UAoHnBG,aApHmB,GAoHH,YAAM;AACpB,YAAKD,QAAL,CAAc;AAAEE,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAtHkB;;AAAA,UAwHnBC,YAxHmB,GAwHJ,YAAM;AACnB,YAAKH,QAAL,CAAc;AAAEE,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KA1HkB;;AAAA,UA4HnBE,MA5HmB,GA4HV,UAAAC,KAAK,EAAI;AAChB,UAAI,MAAKT,KAAL,CAAWU,UAAf,EAA2B;AACzB,cAAKV,KAAL,CAAWU,UAAX,CAAsBD,KAAtB;AACD;AACF,KAhIkB;;AAEjB,UAAKN,KAAL,GAAa;AACXG,MAAAA,SAAS,EAAE,KADA;AAEXJ,MAAAA,KAAK,EAAE;AAFI,KAAb;AAIA,UAAKD,YAAL,GAAoB,MAAKA,YAAL,CAAkBU,IAAlB,+BAApB;AANiB;AAOlB;;;;6BAOQ;AAAA,wBAE6B,KAAKX,KAFlC;AAAA,UAECY,OAFD,eAECA,OAFD;AAAA,UAEUC,cAFV,eAEUA,cAFV;AAAA,wBAGsB,KAAKV,KAH3B;AAAA,UAGCG,SAHD,eAGCA,SAHD;AAAA,UAGYJ,KAHZ,eAGYA,KAHZ;AAKP,aACE;AAAK,QAAA,SAAS,EAAEU,OAAO,CAACzB,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAEyB,OAAO,CAACpB,IAA3B;AACE,QAAA,OAAO,EAAE,KAAKe,YADhB;AAC8B,QAAA,SAAS,EAAE,KAAKF,aAD9C;AAEE,QAAA,aAAa,EAAE,KAAKG,MAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,iBAAD;AACE,QAAA,IAAI,EAAC,YADP;AAEE,QAAA,YAAY,EAAC,YAFf;AAGE,QAAA,WAAW,EAAC,aAHd;AAIE,QAAA,gBAAgB,EAAE;AAChBM,UAAAA,SAAS,EAAE;AADK,SAJpB;AAOE,QAAA,QAAQ,MAPV;AAQE,QAAA,SAAS,EAAEF,OAAO,CAACjB,KARrB;AASE,QAAA,KAAK,EAAC,YATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAgBE,oBAAC,iBAAD;AACE,QAAA,IAAI,EAAC,WADP;AAEE,QAAA,YAAY,EAAC,WAFf;AAGE,QAAA,WAAW,EAAC,aAHd;AAIE,QAAA,gBAAgB,EAAE;AAChBmB,UAAAA,SAAS,EAAE;AADK,SAJpB;AAOE,QAAA,QAAQ,MAPV;AAQE,QAAA,SAAS,EAAEF,OAAO,CAACjB,KARrB;AASE,QAAA,KAAK,EAAC,WATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,EA4BE,oBAAC,iBAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,YAAY,EAAC,OAFf;AAGE,QAAA,WAAW,EAAC,aAHd;AAIE,QAAA,gBAAgB,EAAE;AAChBmB,UAAAA,SAAS,EAAE;AADK,SAJpB;AAOE,QAAA,QAAQ,MAPV;AAQE,QAAA,SAAS,EAAEF,OAAO,CAACjB,KARrB;AASE,QAAA,KAAK,EAAC,OATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EAwCE,oBAAC,iBAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,YAAY,EAAC,cAHf;AAIE,QAAA,WAAW,EAAC,aAJd;AAKE,QAAA,gBAAgB,EAAE;AAChBmB,UAAAA,SAAS,EAAE;AADK,SALpB;AAQE,QAAA,QAAQ,MARV;AASE,QAAA,SAAS,EAAEF,OAAO,CAACjB,KATrB;AAUE,QAAA,KAAK,EAAC,mBAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxCF,EAqDE,oBAAC,iBAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,mBAFP;AAGE,QAAA,YAAY,EAAC,cAHf;AAIE,QAAA,WAAW,EAAC,sBAJd;AAKE,QAAA,gBAAgB,EAAE;AAChBoB,UAAAA,WAAW,EAAE;AADG,SALpB;AAQE,QAAA,QAAQ,MARV;AASE,QAAA,SAAS,EAAEH,OAAO,CAACjB,KATrB;AAUE,QAAA,KAAK,EAAC,sBAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArDF,EAiEE,oBAAC,gBAAD;AACE,QAAA,OAAO,EACL,oBAAC,QAAD;AACE,UAAA,OAAO,EAAEO,KADX;AAEE,UAAA,QAAQ,EAAE,KAAKD,YAFjB;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,KAAK,EAAC,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAUE,QAAA,KAAK,EAAC,OAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjEF,EA8EIY,cAAc,IAAI,oBAAC,kBAAD;AAAoB,QAAA,OAAO,EAAEA,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9EtB,EAiFE;AAAK,QAAA,SAAS,EAAED,OAAO,CAACd,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AACE,QAAA,SAAS,MADX;AAEE,QAAA,SAAS,EAAEd,IAFb;AAGE,QAAA,EAAE,EAAE,QAHN;AAIE,QAAA,OAAO,EAAC,WAJV;AAIsB,QAAA,KAAK,EAAC,SAJ5B;AAKE,QAAA,QAAQ,EAAE,CAACsB,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CAjFF,CADF,CADF;AA+FD;;;;EAxHoB/B,S;;AAAjBwB,Q,CACGiB,S,GAAY;AACjBN,EAAAA,UAAU,EAAE9B,SAAS,CAACqC,IADL;AAEjBJ,EAAAA,cAAc,EAAEjC,SAAS,CAACsC;AAFT,C;AAyIrB,eAAe1C,UAAU,CAACS,MAAD,CAAV,CAAmBc,QAAnB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { withStyles, FormControlLabel } from '@material-ui/core';\nimport Formsy from 'formsy-react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ValidateTextField from './field-with-validation';\nimport LoginRegisterError from \"./registration-error\";\nimport { Link } from 'react-router-dom';\n\nconst styles = theme => ({\n  root: {\n    marginLeft: theme.spacing.unit*10,\n    marginRight: theme.spacing.unit*10,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  field: {\n    marginTop: theme.spacing.unit,\n    width: theme.spacing.unit*50\n  },\n  actions: {\n    marginTop: theme.spacing.unit * 2\n  }\n});\n\n\nclass Register extends Component {\n  static propTypes = {\n    onRegister: PropTypes.func,\n    registerFailed: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      canSubmit: false,\n      admin: false\n    }\n    this._handleCheck = this._handleCheck.bind(this);\n  }\n\n  _handleCheck = () => {\n    const { admin } = this.state;\n    this.setState({ admin: !admin })\n  }\n\n  render() {\n\n    const { classes, registerFailed } = this.props;\n    const { canSubmit, admin } = this.state;\n\n    return (\n      <div className={classes.root}>\n        <Formsy className={classes.form}\n          onValid={this.enableSubmit} onInvalid={this.disableSubmit}\n          onValidSubmit={this.submit}>\n\n          <ValidateTextField\n            name=\"first_name\"\n            autoComplete=\"first_name\"\n            validations=\"minLength:3\"\n            validationErrors={{\n              minLength: \"Too short\"\n            }}\n            required\n            className={classes.field}\n            label=\"First Name\"\n          />\n\n          <ValidateTextField\n            name=\"last_name\"\n            autoComplete=\"last_name\"\n            validations=\"minLength:3\"\n            validationErrors={{\n              minLength: \"Too short\"\n            }}\n            required\n            className={classes.field}\n            label=\"Last Name\"\n          />\n\n          <ValidateTextField\n            name=\"email\"\n            autoComplete=\"email\"\n            validations=\"minLength:3\"\n            validationErrors={{\n              minLength: \"Too short\"\n            }}\n            required\n            className={classes.field}\n            label=\"Email\"\n          />\n\n          <ValidateTextField\n            type=\"password\"\n            name=\"password\"\n            autoComplete=\"new-password\"\n            validations=\"minLength:2\"\n            validationErrors={{\n              minLength: \"Too short\"\n            }}\n            required\n            className={classes.field}\n            label=\"Create a password\"\n          />\n\n          <ValidateTextField\n            type=\"password\"\n            name=\"repeated_password\"\n            autoComplete=\"new-password\"\n            validations=\"equalsField:password\"\n            validationErrors={{\n              equalsField: \"Needs to be the same password as above\"\n            }}\n            required\n            className={classes.field}\n            label=\"Enter password again\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={admin}\n                onChange={this._handleCheck}\n                value=\"admin\"\n                color=\"primary\"\n\n              />\n            }\n            label=\"Admin\"\n          />\n          {\n            registerFailed && <LoginRegisterError message={registerFailed} />\n          }\n\n          <div className={classes.actions}>\n            <Button type=\"submit\"\n              fullWidth\n              component={Link}\n              to={'/login'}\n              variant=\"contained\" color=\"primary\"\n              disabled={!canSubmit}>Register</Button>\n          </div>\n\n        </Formsy>\n      </div>\n    );\n  }\n\n  disableSubmit = () => {\n    this.setState({ canSubmit: false })\n  };\n\n  enableSubmit = () => {\n    this.setState({ canSubmit: true })\n  };\n\n  submit = model => {\n    if (this.props.onRegister) {\n      this.props.onRegister(model);\n    }\n  }\n\n}\n\nexport default withStyles(styles)(Register);"]},"metadata":{},"sourceType":"module"}