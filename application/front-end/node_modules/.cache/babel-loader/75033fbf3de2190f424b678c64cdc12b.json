{"ast":null,"code":"import _classCallCheck from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/inez/Documents/csc648-sp19-team09/application/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/inez/Documents/csc648-sp19-team09/application/front-end/src/modules/_global/component/message-dialog.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport { sendNewMessage } from '../../../api/message.actions.js';\n/**\n * A dialog which is show when the user pressed\n * \"Contact Landloard buttton\"\n */\n\nvar LandLoardContactDialog =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LandLoardContactDialog, _React$Component);\n\n  function LandLoardContactDialog(props) {\n    var _this;\n\n    _classCallCheck(this, LandLoardContactDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LandLoardContactDialog).call(this, props));\n\n    _this.send = function () {\n      sendNewMessage({\n        message: _this.state.newMessage,\n        listingId: _this.props.listingId\n      }, function (response) {\n        alert('Message has been sent!');\n\n        _this.setState({\n          submitSuccess: true,\n          newMessage: ''\n        });\n      });\n    };\n\n    _this.changeMessage = function () {\n      return function (_ref) {\n        var value = _ref.target.value;\n\n        _this.setState({\n          newMessage: value\n        });\n      };\n    };\n\n    _this.state = {\n      submitSuccess: false,\n      newMessage: ''\n    };\n    _this.changeMessage = _this.changeMessage(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.send = _this.send.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LandLoardContactDialog, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          open = _this$props.open,\n          onClose = _this$props.onClose;\n      var submitSuccess = this.state.submitSuccess;\n\n      if (submitSuccess) {\n        return React.createElement(Redirect, {\n          to: '/profile/messages',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        open: open,\n        onClose: onClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Contact Landloard\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Please a enter a message to send to landloard. The message history is going to appear in your profile inbox.\"), React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"message\",\n        label: \"Enter Message\",\n        onChange: this.changeMessage,\n        type: \"text\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: onClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        onClick: this.send,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Send Message\"))));\n    }\n  }]);\n\n  return LandLoardContactDialog;\n}(React.Component);\n\nLandLoardContactDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired\n};\nexport default LandLoardContactDialog;","map":{"version":3,"sources":["/home/inez/Documents/csc648-sp19-team09/application/front-end/src/modules/_global/component/message-dialog.js"],"names":["React","Redirect","PropTypes","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","sendNewMessage","LandLoardContactDialog","props","send","message","state","newMessage","listingId","response","alert","setState","submitSuccess","changeMessage","value","target","bind","open","onClose","Component","propTypes","func","isRequired","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n    Button, TextField, Dialog,\n    DialogActions, DialogContent,\n    DialogContentText, DialogTitle,\n} from '@material-ui/core';\n\nimport {sendNewMessage} from '../../../api/message.actions.js';\n/**\n * A dialog which is show when the user pressed\n * \"Contact Landloard buttton\"\n */\nclass LandLoardContactDialog extends React.Component {\n\n  constructor(props){\n      super(props);\n      this.state={\n        submitSuccess: false,\n        newMessage: '',  \n      }\n      this.changeMessage = this.changeMessage(this)\n      this.send = this.send.bind(this)\n  }\n\n  send = () => {   \n    sendNewMessage({      \n      message:this.state.newMessage,\n      listingId:this.props.listingId\n     },(response)=>{\n      alert('Message has been sent!')\n      this.setState({\n        submitSuccess: true,\n        newMessage: ''\n      });\n    })\n  }\n\n  changeMessage = () => ({target: {value}}) => {   \n   this.setState({\n     newMessage: value\n   });\n  };\n\n\n  render() {\n\n    const { open, onClose } = this.props;\n    const {submitSuccess} = this.state;\n\n    if(submitSuccess){\n      return <Redirect to={'/profile/messages'} />\n    }\n\n    return (\n      <div>\n        <Dialog\n          open={open}\n          onClose={onClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Contact Landloard</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Please a enter a message to send to landloard. The message history is \n              going to appear in your profile inbox.\n            </DialogContentText>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"message\"\n              label=\"Enter Message\"\n              onChange={this.changeMessage}\n              type=\"text\"\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={onClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.send} color=\"primary\">\n              Send Message\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nLandLoardContactDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired\n}\n\nexport default LandLoardContactDialog;"]},"metadata":{},"sourceType":"module"}